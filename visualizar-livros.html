<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Biblioteca Online</title>
</head>
<body>
    <header>
        <a href="/">
            <div class="logo">
                <img class="icon-logo" src="logo_estante.png" />
                <h1>Estante Virtual</h1>
            </div>
        </a>
        <div class="menu">
            <a href="#" onclick="scrollToAcervo()" class="ul">Página inicial</a>
            <a href="" class="ul">Histórico de agendamentos</a>
            <a href="" class="ul">Cadastro de livros</a>
            <a href="" class="ul">Visualizar livros</a>
            <a href="" class="ul">Agendamentos</a>
            <a href="" class="ul">Usuários</a>
            <a href="" class="ul">Relatórios</a>
        </div>
    </header>
    <div class="visualizar">
        <h2>Listagem do Acervo</h2>
        <div class="search">
            <input
                placeholder="Pesquise o nome da obra"
                type="text"
                name="text"
                id="search"
                class="input"
            />
        </div>
        <div class="row center">
          <ul class="menu-options">
              <li class="active" data-category="all">Todos</li>
              <li data-category="disponivel">Disponível</li>
              <li data-category="nao-disponivel">Indisponível</li>
          </ul>
          <div class="relatorio-livros">
              <button class="relatorio">Emitir Relatório</button>
          </div>
      </div>
      
        <div class="livros edit">
            <div class="card nao-disponivel">
                <div class="image_container">
                    <img class="image" src="livro3.jpeg" />
                </div>
                <div class="title">
                    <h3>Desbloqueie o poder da sua mente</h3>
                </div>
                <div class="size">
                    <span>Autor: Michael Arruda</span>
                    <p class="nao-disponivel">Indisponível</p>
                </div>
                <div class="action">
                    <button class="cart-button" style="background-color: #007bff">Editar</button>
                    <button class="cart-button" style="background-color: #ec5353">Desabilitar</button>
                </div>
            </div>
            <div class="card disponivel">
                <div class="image_container ">
                    <img class="image" src="livro6.jpeg" />
                </div>
                <div class="title">
                    <h3>Orgulho e preconceito</h3>
                </div>
                <div class="size">
                    <span>Autor: Jane Austen</span>
                    <p class="disponivel">Disponível</p>

                </div>
                <div class="action">
                    <button class="cart-button" style="background-color: #007bff">Editar</button>
                    <button class="cart-button" style="background-color: #ec5353">Desabilitar</button>
                </div>
            </div>
            <div class="card disponivel">
                <div class="image_container ">
                    <img class="image" src="livro5.jpeg" />
                </div>
                <div class="title">
                    <h3>O pequeno príncipe</h3>
                </div>
                <div class="size">
                    <span>Autor: Antoine De Saint-Exupéry</span>
                    <p class="disponivel">Disponível</p>
                </div>
                <div class="action">
                    <button class="cart-button" style="background-color: #007bff">Editar</button>
                    <button class="cart-button" style="background-color: #ec5353">Desabilitar</button>
                </div>
            </div>
            <div class="card nao-disponivel">
                <div class="image_container">
                    <img class="image" src="livro7.jpeg" />
                </div>
                <div class="title">
                    <h3>Entendendo algoritmos</h3>
                </div>
                <div class="size">
                    <span>Autor: Aditya Y. Barghava</span>
                    <p class="nao-disponivel">Indisponível</p>

                </div>
                <div class="action">
                    <button class="cart-button" style="background-color: #007bff">Editar</button>
                    <button class="cart-button" style="background-color: #ec5353">Desabilitar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div>
            <h1>Idealizado por:</h1>
            <p>Mayara Duarte</p>
            <p>Ygor Souza</p>
            <p>Taissa Severo</p>
            <p>Ritielen Silva</p>
        </div>
        <div>
            <img class="icon-logo" src="logo_estante.png" />
            <h1>Estante Virtual</h1>
        </div>
        <div>
            <h1>Escola Nova Horizonte</h1>
            <p>Rua da Educação, 45, Centro, Bagé - RS</p>
            <div class="social-media">
                <div class="icons-media">
                    <a href="https://facebook.com">
                        <img width="30px;" height="30px;" src="facebook.png" alt="Facebook" />
                    </a>
                </div>
                <div class="icons-media">
                    <a href="https://web.whatsaoo.com">
                        <img width="30px;" height="30px;" src="whatsapp.png" alt="Whatsapp" />
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const menuItems = document.querySelectorAll('.menu-options li');
    const cards = document.querySelectorAll('.card');
    const searchInput = document.getElementById('search');

    // Função de debounce
    function debounce(func, delay) {
        let timeout;
        return function(...args) {
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(this, args), delay);
        };
    }

    // Função de filtragem
    function filterBooks() {
        const searchTerm = searchInput.value.toLowerCase();
        const selectedCategory = document.querySelector('.menu-options li.active')?.getAttribute('data-category') || 'all';

        cards.forEach(card => {
            const livroTitle = card.querySelector('h3').innerText.toLowerCase();
            const matchesSearch = livroTitle.includes(searchTerm);
            const matchesCategory = selectedCategory === 'all' || card.classList.contains(selectedCategory);

            // Exibe o cartão se corresponder à pesquisa e à categoria
            if (matchesSearch && matchesCategory) {
                card.style.display = 'block';
            } else {
                card.style.display = 'none';
            }
        });
    }

    // Adiciona o evento de entrada com debounce para pesquisa
    searchInput.addEventListener('input', debounce(filterBooks, 300));

    menuItems.forEach(function(menuItem) {
        menuItem.addEventListener('click', function() {
            // Remove a classe ativa de todos os itens
            menuItems.forEach(function(item) {
                item.classList.remove('active');
            });

            // Adiciona a classe ativa ao item selecionado
            this.classList.add('active');

            // Filtra livros após a seleção de categoria
            filterBooks();
        });
    });
});
</script>
