<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css"/>
    <title>Biblioteca Online</title>
</head>
<body>
    <header>
        <a href="/">
          <div class="logo">
            <img class="icon-logo" src="logo_estante.png" />
            <h1>Estante Virtual</h1>
          </div>
        </a>
        <div class="menu">
          <a href="#" onclick="scrollToAcervo()" class="ul">Página inicial</a>
          <a href="" class="ul" >Histórico de agendamentos</a>
          <a href="" class="ul" >Cadastro de livros</a>
          <a href="" class="ul" >Visualizar livros</a>
          <a href="" class="ul" >Agendamentos</a>
          <a href="" class="ul" >Usuários</a>
          <a href="" class="ul" >Relatórios</a>
        </div>
    </header>
    <div class="main-perfil">
      <div class="column">
      <div class="perfil adm">
        <div class="foto">
            <img src="user.webp" alt="Foto do Usuário" id="profile-picture"/>
            <input type="file" name="foto" id="foto" accept="image/*" style="display: none;">
        </div>
        <div class="info">
            <h2>Mayara Duarte</h2>
            <p>Cargo: <span>Bibliotecário</span></p>
            <p>Turno: <span>Manhã e Tarde</span></p>
            <p>Data de nascimento: <span>01/01/1990</span></p>
            <p>Telefone: <span>(11) 99999-9999</span></p>
            <p>E-mail: <span>mayaragoncalvesduarte@gmail.com</span></p>
        </div>
        <form id="perfil-form" action="/salvarperfil" method="POST" enctype="multipart/form-data" style="display: none;">
          <p>Cargo: <input type="text" name="cargo" id="cargo"></p>
          <p>Turno: <input type="text" name="turno" id="turno"></p> 
          <p>Data de nascimento: <input type="text" name="nascimento" id="nascimento"></p>
          <p>Telefone: <input type="text" name="telefone" id="telefone"></p>
          <p>E-mail:<br><input type="email" name="email" id="email"></p>
          <button type="submit">Salvar</button>
      </form>
        <div class="edit-icon">
            <a href="#" id="edit-button"><img src="edit-2.png" alt="Editar"/></a>
        </div>
        
    </div>
    <div class="logout">
      <button id="logout-button">Logout</button>
  </div>
  </div>
    
        
    
        
    </div>
    
        
    
    </div>
    <div class="footer">
        <div>
            <h1>Idealizado por:</h1>
            <p>Mayara Duarte</p>
            <p>Ygor Souza</p>
            <p>Taissa Severo</p>
            <p>Ritielen Silva</p>
        </div>
        <div>
            <img class="icon-logo" src="logo_estante.png" />
            <h1>Estante Virtual</h1>
        </div>
        <div> 
           <h1>Escola Nova Horizonte</h1> 
           <p>Rua da Educação, 45, Centro, Bagé - RS</p>
           <div class="social-media">
            <div class="icons-media">
            <a href="https://facebook.com"><img  width="30px;" height="30px;" src="facebook.png" alt="Facebook"></a>
        </div>
        <div class="icons-media">
            <a href="https://web.whatsaoo.com"><img width="30px;" height="30px;" src="whatsapp.png" alt="Whatsapp"></a>
            </div>
        </div>
        </div>
    </div>
  <script>
const editButton = document.getElementById('edit-button');
const form = document.getElementById('perfil-form');
const infoDiv = document.querySelector('.info');
const profilePicture = document.getElementById('profile-picture');
const fotoInput = document.getElementById('foto');
const logoutButton = document.getElementById('logout-button');

// Dados do usuário
const userData = {
  nome: infoDiv.querySelector('h2').innerText,
  cargo: infoDiv.querySelector('p:nth-of-type(1) span').innerText,
  turno: infoDiv.querySelector('p:nth-of-type(2) span').innerText,
  nascimento: infoDiv.querySelector('p:nth-of-type(3) span').innerText,
  telefone: infoDiv.querySelector('p:nth-of-type(4) span').innerText,
  email: infoDiv.querySelector('p:nth-of-type(5) span').innerText
};

let isEditing = false; // Variável de controle do estado de edição

// Alterna entre exibir o formulário e voltar ao estado original
editButton.addEventListener('click', function(e) {
  e.preventDefault();
  
  if (isEditing) {
    // Se já estiver editando, volta ao estado original
    form.style.display = 'none';
    fotoInput.style.display = 'none';
    infoDiv.style.display = 'block';
    isEditing = false;
  } else {
    form.querySelector('#cargo').value = userData.cargo;
    form.querySelector('#turno').value = userData.turno;
    form.querySelector('#nascimento').value = userData.nascimento;
    form.querySelector('#telefone').value = userData.telefone;
    form.querySelector('#email').value = userData.email;
    
    infoDiv.style.display = 'none';
    form.style.display = 'block';
    fotoInput.style.display = 'block';
    isEditing = true;
  }
});

fotoInput.addEventListener('change', function() {
  const file = fotoInput.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      profilePicture.src = e.target.result;
    };
    reader.readAsDataURL(file);
  }
});
</script>

<style>
  input[type="text"] {
  width: 100%;
  padding: 5px;
  margin-bottom: 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
}

.save-container {
  margin-top: 15px;
}

.save-container button {
  background-color: #007bff;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.save-container button:hover {
  background-color: #0056b3;
}
</style>